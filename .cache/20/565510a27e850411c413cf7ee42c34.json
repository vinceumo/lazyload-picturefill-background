{"id":"YuwJ","dependencies":[{"name":"C:\\Users\\Vince\\Documents\\projects\\lazyload-picturefill-background\\.babelrc","includedInParent":true,"mtime":1551700589416},{"name":"C:\\Users\\Vince\\Documents\\projects\\lazyload-picturefill-background\\package.json","includedInParent":true,"mtime":1552310799566},{"name":"C:\\Users\\Vince\\Documents\\projects\\lazyload-picturefill-background\\.browserslistrc","includedInParent":true,"mtime":1551700589417}],"generated":{"js":"var $YuwJ$exports={};function $YuwJ$var$_classCallCheck(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function $YuwJ$var$_defineProperties(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $YuwJ$var$_createClass(e,r,t){return r&&$YuwJ$var$_defineProperties(e.prototype,r),t&&$YuwJ$var$_defineProperties(e,t),e}var $YuwJ$export$default=function(){function e(r){$YuwJ$var$_classCallCheck(this,e),this.options=e.updateDefaultSettings(r),this.init()}return $YuwJ$var$_createClass(e,[{key:\"init\",value:function(){var e=this;this.options.pictureFillBackgroundSelector.length&&Array.prototype.forEach.call(this.options.pictureFillBackgroundSelector,function(r){var t=[],a=[],n=r.querySelectorAll(e.options.pictureFillBackgroundSourceSelector);t=e.getSources(n);var o=!0,c=!1,i=void 0;try{for(var l,u=function(){var t=l.value,n=window.matchMedia(t.media);window.matchMedia&&n.matches&&a.push(t.src),n.addListener(function(){n.matches&&(new RegExp(e.escapeRegExp(t.src)).test(r.style.backgroundImage)||(r.style.backgroundImage=\"url('\"+t.src+\"')\"))})},s=t[Symbol.iterator]();!(o=(l=s.next()).done);o=!0)u()}catch(f){c=!0,i=f}finally{try{o||null==s.return||s.return()}finally{if(c)throw i}}if(r.classList.contains(e.options.lazySelector.substring(1)))createObserver(r,a);else{var p=a.length?a.pop():t[0];r.style.backgroundImage=\"url('\"+p+\"')\"}})}},{key:\"getSources\",value:function(e){var r=[];return Array.prototype.forEach.call(e,function(e){var t={src:e.getAttribute(\"data-src\"),media:e.getAttribute(\"data-media\")};r.push(t)}),r}},{key:\"createObserver\",value:function(e,r){new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=e.target;t.classList.remove(this.options.lazySelector.substring(1)),this.lazyBackgroundImageObserver.unobserve(t);var a=r.length?r.pop():matches[0];t.style.backgroundImage=\"url('\"+a+\"')\"}})}).observe(e)}},{key:\"escapeRegExp\",value:function(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}}],[{key:\"updateDefaultSettings\",value:function(e){var r={pictureFillBackgroundSelector:\".picturefill-background\",lazySelector:\"is-lazy\",pictureFillBackgroundSourceSelector:\".picturefill-background-source\"};for(var t in e)r[t]=e[t];return r.pictureFillBackgroundSelector=\"string\"==typeof r.pictureFillBackgroundSelector?document.querySelectorAll(r.pictureFillBackgroundSelector):r.pictureFillBackgroundSelector,r}}]),e}();$YuwJ$exports.default=$YuwJ$export$default;"},"sourceMaps":null,"error":null,"hash":"2265d7e530378a77cf7226bb7269fd45","cacheData":{"env":{},"imports":{},"exports":{"default":"$YuwJ$export$default"},"wildcards":[],"sideEffects":true,"isES6Module":true,"shouldWrap":false}}